<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">


<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<LINK REL="STYLESHEET" HREF="../book.css" CHARSET="ISO-8859-1" TYPE="text/css">
	<title>OSATE plug-in: IMV</title>
</head>

<body>
<h1><a name="IMV_User_Guide"></a>Graphical Model Viewer User Guide (IMV)<a href="#IMV_User_Guide" class="section_anchor"></a></h1>
<p>
The Instance Model Viewer is a plug-in originally developed by 
Brendan Breuil of ERAU and now integrated within OSATE2 by Peter Feiler and Julien Delange.
</p>
<p><ul><li><a href="#Viewing_an_instance_in_the_IMV">Opening an instance or package in the Graphical Model Viewer</a></li><li><a href="#AADL_Graphical_Viewer">Graphical Model Viewer Commands</a></li>
<ul><li><a href="#Toolbar_Items">Toolbar Items</a></li>
<li><a href="#IMV_Tooltips">Tool Tips</a></li></ul>
<li><a href="#Mode_Selection">Mode Selection</a></li><li><a href="#Flow_Highlighting">Flow Highlighting</a></li><ul><li><a href="#Selecting_Flow_Paths">Selecting Flow Paths</a></li><li><a href="#Intersecting_Flows">Intersecting Flows</a></li>
<li><a href="#Changing_Highlighter_Color">Changing Highlighter Color</a></li>
<li><a href="#Nested_Component_View">Nested Component View</a></li>
</ul>
<li><a href="#Element_Filters">Element Filters</a></li><li><a href="#Image_Capture">Image Capture</a></li><li><a href="#Property_Decorations">Property Decorations</a></li><ul><li><a href="#Creating_Custom_Property_Decorations">Creating Custom Property Decorations</a></li></ul><li><a href="#Using_OSATE_analyses_plugins">Using OSATE analyses plugins</a></li></ul> </p>

<h2><a name="Viewing_an_instance_in_the_IMV"></a>Viewing an instance in the IMV<a href="#Viewing_an_instance_in_the_IMV" class="section_anchor"></a></h2><p>To initially view an instance in the IMV, right click on an instance file (i.e. a file with an “aaxl2” extension), select the “OSATE” menu, then select “Explore Instance or Implementation in IMV”. </p><p>The IMV perspective will automatically be opened and the instance will be displayed in the AADL graphical viewer.  </p><p>You can also view component implementations in packages graphically. right click on a package file (i.e. a file with an &quot;aadl&quot; extension), select the “OSATE” menu, then select “Explore Instance or Implementation in IMV”. Then select a component implementation contained in the package to its graphical view. </p><p><img src="imv-select.png" /> </p><p>Notice that a folder named “imv” has been created within the project. When an instance is initially opened within the IMV, a file with the “imv” extension is automatically created within the “imv” folder and the name of the file is the same as the instance file. When this file is selected, it will automatically open the instance within the IMV perspective. Also, any changes that were made to the instance will be reflected in the model that is loaded. </p><p><img src="imv_file_example.png" />  </p>
<p>You can also open the graphical viewer on AADL text files. In this case, you can view any of the component implementations contained in the package of the selected file with the "aadl" extension. Select any of the implementations in the <em>Outline</em> view and it will be displayed graphically.</p>
<p><img src="imv-implementations.png" /> </p>
<h2><a name="AADL_Graphical_Viewer"></a>AADL Graphical Viewer<a href="#AADL_Graphical_Viewer" class="section_anchor"></a></h2><p>The AADL graphical viewer will function as the primary view for presenting the graphical presentation of AADL models within the IMV Eclipse perspective. Users will be able to use the graphical viewer to explore the structure of an instance model’s constituent components, the interactions between components, and the flows of information and control through components. Since instance models are inherently hierarchical, users can navigate to different levels in the hierarchy by clicking on a component’s graphical symbol. Also the instance model hierarchy is displayed in a tree representation using the standard Eclipse ‘Outline’ view. So when a user selects a node from within the Outline view, the selected component will be displayed in the graphical viewer.  </p>
<p><img src="graphical_viewer.PNG" /> </p>
<h3><a name="Toolbar_Items"></a>Toolbar Items<a href="#Toolbar_Items" class="section_anchor"></a></h3><p><img src="toolbar.PNG" /> </p>

<p>As an experimental feature you can view the instance model with multiple levels of in-place component nesting. By default, only one level of nesting is shown. You can increase or decrease the nesting level through two toolbar buttons. </p>
<p>You can also navigate error propagations from the error model annex annotations.</p>
<p><img src="imv-NewCommands.PNG" /> </p>
<h3><a name="IMV_ToolTips"></a>Tool Tips<a href="#IMV_ToolTips" class="section_anchor"></a></h3>
<p>Tool tips pop up if you pause the cursor over a graphical model element. Currently IMV supports popping up the connection name if the cursor is paused over a connection.</p>
<p><img src="tooltips.PNG" /> </p>


<h2><a name="Mode_Selection"></a>Mode Selection<a href="#Mode_Selection" class="section_anchor"></a></h2><p>When developing AADL models using the textual and graphical editors, the distinction between mode specific component configurations is not obvious – especially for complex systems. To make the distinction between modes more evident, the IMV filters the components that are displayed in the graphical viewer based on the current mode (a separate view inside of the IMV perspective is used to change the current mode.) This feature provides users with the ability to visualize how the interactions between components change as mode changes occur.  </p><p><img src="modes_view.PNG" /> </p>
<h2><a name="Flow_Highlighting"></a>Flow Highlighting<a href="#Flow_Highlighting" class="section_anchor"></a></h2><p>The flow-highlighting feature will be used to graphically display flow paths within the graphical viewer. A separate view called ‘Flow Paths’ is used to select which flows to highlight. When a flow is selected from within the flow path view, all of the connections and features that comprise the selected flow will are highlighted in the graphical viewer. This feature can be used when developing AADL models to verify that the flows have been defined correctly and also for analyzing and explaining how information and control flows through the architecture.  </p><h3><a name="Selecting_Flow_Paths"></a>Selecting Flow Paths<a href="#Selecting_Flow_Paths" class="section_anchor"></a></h3><p><img src="flow_paths1.PNG" /> </p><h3><a name="Intersecting_Flows"></a>Intersecting Flows<a href="#Intersecting_Flows" class="section_anchor"></a></h3><p><img src="flow_paths2.PNG" /> </p>
<h3><a name="Changing_Highlighter_Color"></a>Changing Highlighter Color<a href="#Changing_Highlighter_Color" class="section_anchor"></a></h3><p><img src="flow_paths3.PNG" /> </p>
<h3><a name="Nested_Component_View"></a>Nested Component View<a href="#Nested_Component_View" class="section_anchor"></a></h3><p><img src="imv-nestedview.PNG" /> </p>
<h2><a name="Element_Filters"></a>Element Filters<a href="#Element_Filters" class="section_anchor"></a></h2><p>When a user wants to view and analyze an AADL model using the IMV, the user may only be concerned with certain aspects of the model; therefore, the IMV provides the user with the ability to filter the components that are displayed in the graphical viewer based on feature type and component type. As a result, users are able to view the models from different perspectives. For example, a model containing threads, data, devices, processors, and busses can be filtered to include only hardware components by specifying that only components with ‘bus access’ features should be displayed. This feature will allow users to reduce the complexity of the models being displayed and thus facilitate comprehension. </p><p><img src="element_filters.PNG" /> </p>
<h2><a name="Image_Capture"></a>Image Capture<a href="#Image_Capture" class="section_anchor"></a></h2><p>The IMV tool provides the user with the capability to create an image of the contents of the AADL graphical viewer in JPEG or PNG format. The image capture can be set to automatic mode so that an image will be created every time the diagram is saved. This feature allows the graphical presentation of the instance model to be efficiently used in documents and presentations. </p><p><img src="automatic_image.PNG" /> </p>
<h2><a name="Property_Decorations"></a>Property Decorations<a href="#Property_Decorations" class="section_anchor"></a></h2><p>The IMV uses property decorations to graphically display a components property values. Below is an example of a property decoration for graphically displaying the &#x27;Dispatch_Protocol<a href="/a/eclipselabs.org/p/instance-model-viewer/w/edit/Dispatch_Protocol">?</a>&#x27; and &#x27;Period&#x27; property.  </p><p><img src="property_decoration.PNG" /> </p><h3><a name="Creating_Custom_Property_Decorations"></a>Creating Custom Property Decorations<a href="#Creating_Custom_Property_Decorations" class="section_anchor"></a></h3><p>The IMV tool defines an Eclipse extension point for adding custom property decorations to AADL components. Anyone can create a custom property decoration by extending the property decoration extension point.  </p><p>The extension point ID is: edu.erau.aadldiagram.propertydecorations </p><p>Below is the interface that must be implemented in order to contribute a custom property decoration using the &quot;edu.erau.aadldiagram.propertydecorations&quot; extension point.  </p><p><img src="property_decoration_interface.PNG" /> </p><p>Method descriptions: </p><ul><li>setAadlElement(Object element) - This method will be called once when the figure representing the AADL component is initially created. The &#x27;element&#x27; parameter is the model object associated with the figure. The concrete property decoration object will use the model object to retrieve the desired properties using the exiting OSATE API.  </li><li>getName() - returns a name to identify the property decoration (may be used in a later version of the IMV to filter property decorations by name. </li><li>paintDecoration(Graphics g, Dimension figureSize) - this method is called after the figure has been rendered but before the figure&#x27;s children (i.e. features and sub-components) have been rendered. The graphics object that is passed in has been translated and clipped so that the origin is located at the top left corner of the figure&#x27;s bounds. The &#x27;figureSize&#x27; parameter specifies the width and height of the figure. Use this method to draw the custom property decoration into the graphic context. </li><li>dispose() - this method is called when the figure is disposed. Use this method to de-allocate any OS resources such as font or color objects. </li></ul><p>NOTE: Refer to <a href="http://www.vogella.com/articles/EclipseExtensionPoint/article.html#simple_usingextension" rel="nofollow">this tutorial (section 3.3)</a> for additional instructions on how to provide an extension. </p>
<h2><a name="Using_OSATE_analyses_plugins"></a>Using OSATE analyses plugins<a href="#Using_OSATE_analyses_plugins" class="section_anchor"></a></h2><p>To use the existing OSATE analysis plugins from within the IMV Eclipse perspective, a system instance must be selected (the system instance is always the root component in the instance hierarchy). Therefore, either select the system instance component from withing the graphical viewer or select the system instance from within the &quot;Outline&quot; view. When the system instance is selected, the analysis plugins will be enabled.  </p>


</body>
</html>