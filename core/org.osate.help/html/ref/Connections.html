<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Connections</title>
   <link href="Res/styles/shared.css" rel="stylesheet" type="text/css">
   <link href="Res/styles/DynamicOutline.css" rel="stylesheet" type="text/css">
</head>
<body id="page" >

<!-- BEGIN PAGE BODY-->


<table id="pageBody">
 <col class="main">
 <col class="right">

<!-- BEGIN BREADCRUMBS-->
<tr id="breadcrumbsAndPageNavigation">
  <td class="breadcrumbs" valign="top">
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="index.html">Home</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="ConnectionsandFlows.html">9. Connections and Flows</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS HERE-->
<span class="breadcrumb">
   9.1 Connections
</span>
<!-- END NAVIGATION BREADCRUMBS HERE-->

  </td>
  <td class="pageNavigation" valign="top">
<!-- START PAGE NAVIGATION NEXT IN SEQUENCE IMAGES -->
<span class="commands">
    <span class="command">
        <img src="Res/images/previous_button.gif" alt=""> <a href="ConnectionsandFlows.html">
        <span class="label">Previous</span></a>
    </span>
&nbsp;&nbsp;
    <span class="command">
        <a href="Flows.html">
        <span class="label">Next</span></a> <img src="Res/images/next_button.gif" alt="">
    </span>
</span>
<!-- END PAGE NAVIGATION NEXT IN SEQUENCE IMAGES  -->

  </td>
  <td class="right" valign="top">
  </td>
</tr>
<!-- END BREADCRUMBS-->

<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topicDivider">
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>

<!--BEGIN PAGE BODY ITEM-->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <table>
      <tr class="topicHeader">
        <td class="topicImageColumn">

        </td>
        <td class="topicLineColumn">
          <a name="Topic48"></a>
          <span class=outlineNumberFirst>9.1 </span><span class=topicLineFirst>Connections</span>
          <span class="topicIcons">

          </span>
        </td>
      </tr>
    </table>

<!-- phf:Comand: Expand("BoxPartMap.mmbas") -->
     <div class="topicTextNotes"><div align="left"><font face="Helvetica"><span>The AADL supports three types of connections: <i>port 
connections</i>, <i>parameter connections</i>, and 
<i>access connections</i>.&#160; Port connections represent the transfer of data and control between 
two 
concurrently executing components, i.e., between two threads or between a thread and a 
processor or device.&#160;</span></font><font face="Helvetica" color="#010101"><span>&#160; </span></font><font 
face="Helvetica"><span>Parameter connections denote the flow of data through the parameters of a 
sequence of subprogram calls, i.e., between units of sequential execution within a thread.&#160; Access 
connections designate access to shared data components by concurrently executing threads or by 
subprograms executing within a thread. They also represent communication between processors, 
memory, and devices by accessing a shared bus.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Syntax</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>connection ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; port_connection </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | parameter_connection</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | access_connection</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>connection_refinement ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; port_connection_refinement </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | parameter_connection_refinement</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | access_connection_refinement</span></font><span></span></div></div>




  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!--END PAGE BODY ITEM-->
<!--BEGIN PAGE BODY ITEM-->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <table>
      <tr class="topicHeader">
        <td class="topicImageColumn">

        </td>
        <td class="topicLineColumn">
          <a name="Topic49"></a>
          <span class=outlineNumber>9.1.1 </span><span class=topicLine>Port Connections</span>
          <span class="topicIcons">

          </span>
        </td>
      </tr>
    </table>

<!-- phf:Comand: Expand("BoxPartMap.mmbas") -->
     <div class="topicTextNotes"><div align="left"><font face="Helvetica"><span>Port connections represent transfer of data and control 
between two concurrently executing 
components, i.e., between two threads or between a thread and a processor or device. These 
connections are <i>semantic port connections</i>.&#160; A semantic port connection is determined by 
a 
sequence of one or more individual port connection declarations that follow the component 
containment hierarchy in a fully instantiated system from an <i>ultimate source</i> to an <i>ultimate 
destination</i>.&#160; An individual port connection declaration links a port of one subcomponent to 
the port 
of another. Or it joins a port of a subcomponent with a port of a containing component.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Semantic port connections are illustrated in Figure 11.&#160; 
The <i>ultimate source </i>of a semantic port 
connection is an outgoing feature, i.e., an <b>out </b>or <b>in out </b>port of a thread, processor, 
or device 
component.&#160; The <i>ultimate destination </i>of a semantic port connection is an incoming feature, 
i.e., an 
<b>in </b>or <b>in out </b>port of a thread subcomponent, a processor or device component. In the case 
of event 
connections and port group connections, a mode transition may also be specified as part of the 
port connection.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Port connection declarations follow the containment hierarchy 
of threads, thread groups, processes 
and systems.&#160; Some connections link an outgoing feature to the corresponding feature in the 
containing component and an incoming feature to the corresponding feature of a contained 
component. In other words, these connections traverse up and down the containment hierarchy. </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Other connections connect outgoing features of a component 
to incoming features of another 
component at the same level of the containment hierarchy, i.e., it connects sibling components. 
These connections occur at the highest level required for the connection declaration or at the top of 
the containment hierarchy required for the declaration.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Semantic port connections may also route a raised event 
to a modal component through a 
sequence of connection declarations.&#160; A mode transition in such a component is the ultimate 
destination of the connection, if the mode transition names an <b>in</b> or <b>in out</b> event port 
in the 
enclosing component, or an <b>out</b> or <b>in out</b> event port of one of the subcomponents&#160; 
(see Section 
11).&#160; </span></font><span></span></div>
<div align="center"><img src="NotesImages/Topic49NotesImage4.jpg" align="bottom" width="391" height="177" border="0" alt="graphic" /></div>
<div align="center"><font face="Helvetica"><span><b>Figure 11 Semantic Port Connection</b></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>This section defines the concepts of departure and arrival 
times of port connection transmission for 
each of the <i>port connection categories</i>, i.e., for <b>data port</b> connections, <b>event port</b> 
connections, 
<b>event data port</b> connections, and <b>port group</b> connections.&#160; The transfer semantics 
between 
connected ports are defined such that the departure and arrival times of connection transmissions 
occurs in terms of deadline, execution completion, and dispatch times. These semantics ensure 
deterministic communication between periodic threads through data ports.&#160; </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Syntax</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>port_connection ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; data_connection </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | event_connection</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | event_data_connection</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | port_group_connection</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>data_connection ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; [ <i>defining_data_connection</i>_identifier 
:] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <b>data port</b> <i>source_</i>unique_port_identifier </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
( immediate_connection_symbol | delayed_connection_symbol ) </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;<i>destination_</i>unique_port_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { property_association }<sup>+ </sup><b>}</b> ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; [ in_modes_and_transitions 
] <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>immediate_connection_symbol ::= <b>-&gt;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>delayed_connection_symbol ::= <b>-&gt;&gt;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>event_connection ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; [ <i>defining_event_connection</i>_identifier 
:] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <b>event port</b> <i>source_</i>unique_port_identifier </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>-&gt;</b> <i>destination_</i>unique_port_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { property_association }<sup>+ </sup><b>}</b> ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160; [ in_modes_and_transitions 
] <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>event_data_connection ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; [ <i>defining_event_data_connection</i>_identifier 
:] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <b>event data port</b> <i>source_</i>unique_port_identifier </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>-&gt;</b> <i>destination_</i>unique_port_identifier<i> </i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { property_association }<sup>+ </sup><b>}</b> ] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160; [ in_modes_and_transitions 
] <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- connection between port groups of 
two subcomponents or between</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- a port group of a subcomponent and 
a port group in the component type</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>port_group_connection ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; [ <i>defining_port_group_connection</i>_identifier 
:] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <b>port group</b> <i>source_</i>unique_port_group_identifier </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>-&gt;</b> <i>destination_</i>unique_port_group_identifier<i> </i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { property_association }<sup>+ </sup><b>}</b> ] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160; [ in_modes_and_transitions 
] <b>;</b>&#160;&#160;&#160; </span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>port_connection_refinement ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <i>connection</i>_identifier 
: <b>refined to</b> </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
( <b>data port</b> | <b>event port</b> | <b>event data port</b> | <b>port group</b> )</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
( ( <b>{</b> { property_association }<sup>+ </sup><b>} </b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160; [ in_modes_and_transitions 
] )</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | in_modes_and_transitions</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
) <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>unique_port_identifier ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- port in the component type </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_port</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- port in a subcomponent </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>subcomponent</i>_identifier <b>.</b> <i>port</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- port element in a port group of the component type</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_port_group</i>_identifier 
. <i>element_port</i>_identifier</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>unique_port_group_identifier ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- port group in the component type </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_port_group</i>_identifier </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; | </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- port group in a subcomponent </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>subcomponent</i>_identifier <b>.</b> <i>port_group</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- port group element in a port group of the component type</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_port_group</i>_identifier 
. 
<i>element_port_group_</i>identifier</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Naming Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The defining identifier of a defined port connection 
declaration must be unique in the local 
namespace of the component implementation with the connection subclause. For mode-specific 
connection declarations, as indicated by the </span></font><font face="Courier New"><span>in_modes_and_transitions</span></font><font 
face="Helvetica"><span> subclause, a 
connection name may appear more than once.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The connection identifier in a port connection refinement 
declaration must refer to a named 
connection declared in an ancestor component implementation.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A source or destination reference in a port connection 
declaration must reference a port or port 
group declared in the component type, a port or port group of one of the subcomponents, or a port 
or port group that is an element of a port group in the component type.&#160; </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Legality Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The ultimate source of a semantic port connection must 
be a feature of a thread, processor, or 
device.&#160; The source feature referenced in a port connection declaration must be a feature of a 
thread, thread group, process, processor, device, or system component.&#160; The ultimate destination 
of a semantic port connection must be a port of a thread, a processor, a device.&#160; If the ultimate 
destination is the result of a mode transition, the mode change is indicated by the mode subclause 
of the respective thread, thread group, process, system, device, bus, memory, or processor 
naming an <b>in event</b> <b>port</b> in one of its mode transitions.&#160; The destination feature 
referenced in a 
port connection declaration must be a feature of a thread, thread group, process, processor, 
device, or system component. </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>One end of the connection must be a thread.&#160; The 
other end may be a processor, a device, or a 
thead.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If the ultimate destination of a semantic port connection 
is the result of a mode transition, then the 
ultimate source must be an out&#160; event port.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If a semantic port connection is declared to apply to 
a particular mode, then the ultimate source 
and ultimate destination components must be part of that mode.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If a semantic port connection is declared to apply to 
a particular mode transition, then the ultimate 
source component must be part of a system mode that includes the old mode identifier and the 
ultimate destination component must be part of a system mode that includes the new mode 
identifier.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The category of the port connection declaration must 
match the source and destination features as 
described in the following paragraphs.&#160; This implies that all connection declarations of a semantic 
connection must be of the same category.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The direction declared for the destination feature of 
a port connection declaration must be 
compatible with the direction declared for the source feature(s) as defined by the following rules:&#160; </span></font><span></span></div>
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  ">
<div align="left"><font face="Helvetica"><span>If the port connection declaration represents a connection 
between sibling 
components, then the source must be an <b>out</b> or an <b>in out</b> port and the destination 
must be an <b>in</b> or an <b>in</b> <b>out</b> port, or in the case of port group connections the source 
and destination port groups must be complements of each other (see Section 8.2).</span></font><span></span></div>
</li>
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  "><font face="Helvetica"><span>If 
the port connection declaration represents a connection between elements of two 
port groups in the component type, then source must be an <b>in</b> or an <b>in out</b> port and 
the destination must be an <b>out</b> or an <b>in</b> <b>out</b> port, or in the case of port group 
connections the source and destination port groups must be complements of each 
other (see Section 8.2).</span></font><span></span></li>
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  "><font face="Helvetica"><span>If 
the port connection declaration represents a connection up or down the containment 
hierarchy, then the source and destination must both be an <b>out</b> or an <b>in out</b> port, or 
both an <b>in</b> or <b>in</b> <b>out</b> port, or in the case of port group connections the port groups 
of 
the same port group type.&#160; </span></font><span></span></li>
</ul>
</ul>
<div align="left"><font face="Helvetica"><span>A data port cannot be the destination feature reference 
of more than one port connection 
declaration unless each port connection declaration is (are) contained in a different mode.&#160; In 
this 
case, the restriction applies for each mode. </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The ultimate source and ultimate destination of a delayed 
port connection must be periodic 
threads. </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For data and event data port connections, the data classifier 
of the source port must be identical to 
the data type of the destination port.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If more than one port connection declaration in a semantic 
port connection has a property 
association for a given connection property, then the resulting property values must be identical.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For port group connections the following must hold:</span></font><span></span></div>
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  ">
<div align="left"><font face="Helvetica"><span>If the connection declaration represents a component 
connection between sibling 
components, the port group types must be complements as indicated with the <b>inverse 
of </b>statement in one of the two port group types.&#160; </span></font><span></span></div>
</li>
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  "><font face="Helvetica"><span>If 
the connection declaration represents a connection up or down the containment 
hierarchy, the port group types must be identical. </span></font><span></span></li>
</ul>
</ul>
<div align="center"><font face="Helvetica"><span><i>Standard Properties</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Connection_Protocol: Supported_Connection_Protocols</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Allowed_Connection_Binding_Class: </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>inherit</b> <b>list</b> <b>of</b> <b>classifier</b>(<b>processor</b>, <b>bus, 
device</b>)</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Allowed_Connection_Binding: <b>inherit</b> <b>list</b> <b>of</b> <b>reference</b> 
(<b>bus, processor, 
device</b>)</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Not_Collocated: <b>list</b> <b>of</b> <b>reference</b> 
(<b>data</b>, <b>thread</b>, <b>process</b>, <b>system, 
connections</b>)</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Actual_Connection_Binding: <b>inherit</b> <b>reference</b> 
(<b>bus</b>,<b> processor</b>, <b>device</b>)</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Semantics</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A semantic port connection represents directed flow of 
data and control between two threads, 
between a processor and a thread, or a device and a thread.&#160; In the case of event port connections 
the ultimate destination can be a in a new mode.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The AADL supports n-to-n connectivity for event and event 
data ports.&#160; A port may have multiple 
outgoing connections, i.e., its content is transmitted to multiple destinations.&#160; This means that 
each destination port receives an instance of the event, or event data being transmitted.&#160; Similarly, 
event and event data ports can support multiple incoming connections resulting in sequencing and 
possibly queuing of incoming events and event data.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Data connections are restricted to 1-n connectivity, 
i.e., a data port can have multiple outgoing 
connections, but only one incoming connection.&#160; If the component with the destination data port 
has modes then this restriction applies to each mode.&#160; Port groups may have multiple outgoing and 
incoming connections unless any ports that are elements of a port group place additional 
restrictions.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If a component has an <b>in out</b> port, this port may 
be the destination of a connection from one 
component and the source of a connection to another component. Bi-directional flow between two 
components is represented by two connections between the <b>in out</b> ports of two components.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port connection can be refined by adding property associations 
for the connection in a 
connection refinement declaration.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port connection declared with the optional </span></font><font 
face="Courier New"><span>in_modes_and_transitions</span></font><font face="Helvetica"><span> subclause 
specifies 
whether the connection is part of specific modes or is part of the transition between two specific 
modes.&#160; The detailed semantics of this subclause are defined in Section 11.1.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>While in a given mode, transmission over a port connection 
only occurs if the connection is part of 
the current mode.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>During a mode switch, transmission over a data port connection 
only occurs at the actual time of 
mode switch if the port connection is declared to apply to the transition between two specific 
modes.&#160; The actual mode switch initiates transmission.&#160; This allows data state to be transferred 
between threads active in different modes.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A data port connection is declared to be <i>immediate</i> 
( &#147;<b>-&gt;</b>&#148; ) or to be <i>delayed</i> ( &#147;<b>-&gt;&gt;</b>&#148; ).&#160; A semantic 
data port connection is considered to be delayed if at least one of the connection declarations is 
declared to be delayed.&#160; Otherwise, the semantic data port connection is considered to be 
immediate.&#160; Typically, a delayed data connection is specified through the sibling connection 
declaration, i.e., the declaration at the top of the containment hierarchy of a semantic connection.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For immediate data port connections the data transmission 
is initiated when the source thread 
completes and enters the suspended state.&#160; Immediate data transfer only occurs when the periods 
of the sending and receiving thread align, i.e., their dispatch occurs logically simultaneous.&#160; 
The 
actual execution of the receiving thread is delayed until the sending thread completes execution. 
The content of the receiving thread&#146;s port variables is determined at the time of dispatch except 
for 
data ports that are connected by immediate connection. Their value is the data port value of the 
sending thread at the time of the sending thread&#146;s execution completion.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Immediate and delayed connections are illustrated in 
Figure 12.&#160; Thread 1 and Thread 2 are two 
periodic threads executing at a rate of 10Hz, i.e., they are logically dispatched every 100 ms.&#160; 
For 
immediate connection, shown on the left of the figure, the actual start of execution of the receiving 
thread (Thread 2) will be delayed after its dispatch event until the sending thread (Thread 1) 
completes execution and its <b>out</b> port data value has been transferred into the <b>in</b> port 
of the 
receiving thread.&#160; If Thread 2 executes at twice the rate of Thread 1, then the execution of Thread 
2 
will be delayed every time the two periods align to receive the data at completion of Thread 1. Every 
other time Thread 2 will start executing at its dispatch time with the old value in its data port.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For delayed data port connections, the data transmission 
is initiated at the deadline of the source 
thread.&#160; The data is available at the destination port at the next dispatch of the destination 
thread 
that occurs at or after the source thread deadline.&#160; If the source deadline and the destination 
dispatch occur at the same logical time instant, the transmission is considered to occur within the 
same time instant.&#160; This is shown on the right of Figure 12.&#160; The output of Thread 1 is made 
available to Thread 2 at the beginning of its next dispatch.&#160; Thread 1 producing a new output at 
the 
next dispatch does not affect this value.</span></font><span></span></div>
<div align="center"><img src="NotesImages/Topic49NotesImage10.jpg" align="bottom" width="614" height="138" border="0" alt="graphic" /></div>
<div align="center"><font face="Helvetica"><span><b>Figure 12 Timing of Immediate &amp; Delayed Data 
Connections</b></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If multiple transmissions occur for a data port connection 
from the source thread before the 
dispatch of the destination thread, then only the most recently transmitted data is available in the 
destination port.&#160; In other words, the destination thread undersamples the transmitted data.&#160; 
In the 
case of two connected periodic threads, this situation occurs when the source thread has a shorter 
period than the destination thread. In the case of a periodic thread connected to an aperiodic 
thread, this situation occurs if the aperiodic thread receives two dispatch events with an inter-arrival 
time larger than the period of the source thread.&#160; In the case of an aperiodic thread connected 
to a 
periodic thread, this situation occurs if the aperiodic thread has two successive completion times 
less than the period of the periodic thread.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If no transmission occurs on an in data port between 
two dispatches of the destination thread, then 
the thread receives the same data again, resulting in oversampling of the transmitted data.&#160; A 
status indicator is accessible to the source text of the thread as part of the port variable to 
determine whether the data is fresh.&#160; This allows a receiving thread to determine whether a 
connection source is providing data at the expected rate or at all.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The semantics of immediate and delayed data transmission 
between periodic threads assures 
deterministic communication of state data.&#160; The alignment of transmission start and end times 
between the sending and receiving thread are statically known and are not affected by preemption 
of thread execution and variation in actual execution time.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>NOTES:</span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">Such deterministic communication 
cannot always be guaranteed if the transmission is initiated and 
completed by explicit send and receive service calls in the source text of the sending and receiving 
thread.&#160; If these calls are executed at the normal thread priorities, the time of actual data transfer 
through 
the send and receive call may vary and result in non-deterministic change in the send and receive order 
of two communicating threads.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If a processor or device is the data connection source, 
then the transmission is initiated and 
completed when the destination thread is dispatched.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For event and event data connections the transmission 
of control and data occurs immediately 
when the source thread executes a </span></font><font face="Courier New"><span>Raise_Event</span></font><font 
face="Helvetica"><span> call.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If the event connection source is a device or processor, 
then the occurrence of an interrupt 
represents the initiation of an event transmission.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Transmission completion for event and event data connections 
results in queuing of the event or 
event data.&#160; It also represents the arrival of a dispatch request for an aperiodic or sporadic 
thread, if 
the thread&#146;s </span></font><font face="Courier New"><span>Dispatch</span></font><font face="Helvetica"><span> 
port is not connected.&#160; For details on the content of port variables at the 
time of dispatch for periodic, aperiodic and sporadic threads see Section 8.1.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Within a synchronized system, an event arrives logically 
simultaneously at all ultimate connection 
destinations (see also Section 12.3). </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Arrival of events on event ports can also trigger a mode 
switch if the event port is named in a mode 
transition originating in the current mode (see Section 11).&#160; Events that trigger mode transitions 
are 
not queued at event ports. </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Processing Requirements and Permissions</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The temporal semantics for port connections define several 
cases in which the transmission 
initiation and completion times are identical.&#160; While it is not possible to perform a transmission 
instantaneously in a physical system, a&#160; method of implementing systems must suppy a thead 
execution schedule that preserves the temporal and logical semantics of the model.&#160; In some 
cases, this may result in a system where the actual sending thread completion time occurs before 
the logical departure time of the transmission.&#160; Similarly, the actual receiving thread may begin 
its 
execution after the logical arrival of the transmission.&#160; Such an execution model is acceptable 
if the 
observed causal order is identical to that of the logical semantic model and all timing requirements 
specified in all property associations are satisfied.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For port connections between periodic threads, the standard 
semantics and default property 
associations result in undersampling when the period of the sending thread is less than the period 
of the receiving thread. Oversampling occurs when the period of the sending thread is greater than 
the period of the receiving thread.&#160; A method of implementing systems is permitted to provide an 
optimization which may eliminate any physical transfers of data that can be guaranteed to be 
overwritten, or that can be guaranteed to be identical to previously transferred values.&#160; Error-free 
transmission may be assumed when performing such an optimization.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A method of building systems must include a runtime capability 
in every system to detect an 
erroneous or failed transmission over a data connection between periodic threads to the degree of 
assurance required by an application.&#160; A method of building systems must include a runtime 
capability in every system to report a failure to perform a transmission by a sending periodic thread 
to all connected recipients.&#160; A method of building systems must include a runtime capability in 
every system to detect data errors in arriving transmissions over any connection to the degree of 
assurance required by an application.&#160; The source language annex to this standard specifies the 
application program interface used to obtain error information about transmissions.&#160; A method of 
building systems may define additional error semantics and error detection mechanisms and 
associated application programming interfaces.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>NOTES:</span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">All data values that arrive 
at the data ports of a receiving thread are immediately transferred at the logical 
arrival time into the storage resources associated with those features in the source text and binary 
image 
associated with that thread.&#160; A consequence of the semantic rules for data connections is that 
the logical 
arrival time of a data value to a data port contained in a thread always occurs either when that thread 
is 
dispatchable or during an interval of time between a dispatch event and a delayed start of execution, 
e.g., 
due to an immediate connection.&#160; That is, data values will never be transferred into a thread&#146;s 
data ports 
between the time it starts executing and the time it completes executing and suspends awaiting a new 
dispatch.</span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">Arriving event and event 
data values may be queued in accordance with the queuing rules defined in the 
port features section.&#160; A consequence of the semantic rules for event and event data connections 
is that 
there will be exactly one dispatch of a receiving thread for each arriving event or event data value 
that is 
not lost due to queue overflow, and event data values will never be transferred into a thread between 
the 
time it starts executing and the time it completes and suspends awaiting a new dispatch.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Examples</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- A simple example showing a system 
with two processes and threads.</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- The threads have a semantic connection.</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- The connection declarations follow 
the containment hierarchy.</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>data</b> Alpha_Type</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>properties</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Source_Data_Size =&gt; 
256 B;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Alpha_Type;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>port group</b> xfer_plug</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Alpha : <b>out data port</b> 
Alpha_Type;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Beta : <b>in data port</b> 
Alpha_Type;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> xfer_plug;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>port group</b> xfer_socket</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160; inverse of</b> xfer_plug</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> xfer_socket;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread</b> P</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Data_Source : <b>out data 
port</b> Alpha_Type;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> P;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread implementation</b> P.Impl</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>properties</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Dispatch_Protocol=&gt;Periodic;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Period=&gt; 10 ms;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> P.Impl;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process</b> A</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Produce : <b>port group</b> 
xfer_plug;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end </b>A;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process implementation</b> A.Impl</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Producer : <b>thread</b> 
P.Impl; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Result_Consumer : thread 
Q.Impl;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>connections</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data</b> <b>port</b> 
Producer.Data_Source -&gt; Produce.Alpha;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data port</b> Produce.Beta 
-&gt; Result_Consumer.Data_Sink;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> A.Impl;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread</b> Q</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Data_Sink : <b>in data 
port</b> Alpha_Type;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Q;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread implementation</b> Q.Impl</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>properties</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Dispatch_Protocol=&gt;Periodic;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Period=&gt; 10 ms;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Q.Impl;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process</b> B</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Consume : <b>port group</b> 
xfer_socket;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> B;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process implementation</b> B.Impl</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Consumer : <b>thread</b> 
Q.Impl; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Result_Producer : <b>thread</b> 
P.Impl;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>connections</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data port</b> Consume.Alpha 
-&gt; Consumer.Data_Sink;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data port</b> Result_Producer.Data_Source 
-&gt; Consume.Beta;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> B.Impl;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>system</b> Simple</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Simple;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>system implementation</b> Simple.Impl</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; pr_A : process A.Impl;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; pr_B : process B.Impl;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>connections</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>port group</b> pr_A.Produce 
-&gt; pr_B.Consume;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Simple.Impl;</span></font><span></span></div></div>




  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!--END PAGE BODY ITEM-->
<!--BEGIN PAGE BODY ITEM-->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <table>
      <tr class="topicHeader">
        <td class="topicImageColumn">

        </td>
        <td class="topicLineColumn">
          <a name="Topic50"></a>
          <span class=outlineNumber>9.1.2 </span><span class=topicLine>Parameter Connections</span>
          <span class="topicIcons">

          </span>
        </td>
      </tr>
    </table>

<!-- phf:Comand: Expand("BoxPartMap.mmbas") -->
     <div class="topicTextNotes"><div align="left"><font face="Helvetica"><span>Parameter connections represent flow of data between 
the parameters of a sequence of 
subprogram calls in a thread.&#160; Parameter connections may be declared from an <b>in</b> data or 
event 
data port or <b>in out</b> data or event data port of the containing thread to a subprogram call <b>in </b>or <b>in 
out 
</b>parameter. Parameter connections also specify connections from an <b>in</b> parameter or <b>in out</b> 
parameter of the containing subprogram to a subprogram call <b>in </b>or <b>in out </b>parameter, from 
a 
subprogram call <b>out</b> or&#160;<b> in out </b>parameter to a <b>out </b>or <b>in out </b>parameter 
of the containing 
subprogram, and from a subprogram call <b>out</b> or&#160;<b> in out </b>parameter to a subprogram call <b>in </b>or <b>in 
out 
</b>parameter or an <b>out</b> or <b>in out </b>data or event data<b> </b>port of the containing thread.&#160; 
In other words, the 
parameter connection declarations follow the containment hierarchy of subprogram calls nested in 
other subprograms.&#160; This is illustrated in Figure 13.</span></font><span></span></div>
<div align="center"><img src="NotesImages/Topic50NotesImage3.jpg" align="bottom" width="481" height="143" border="0" alt="graphic" /></div>
<div align="center"><font face="Helvetica"><span><b>Figure 13 Parameter Connections</b></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For parameter connections, data transfer occurs at the 
time of the subprogram call and call return. 
In the&#160; case of subprogram calls to server subprograms in other threads, the data is first transferred 
to a local proxy and from there passed to the remote subprogram.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Syntax</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>parameter_connection ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; [ <i>defining_parameter_connection</i>_identifier 
:] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <b>parameter</b> <i>source_</i>unique_parameter_identifier </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>-&gt;</b> <i>destination_</i>unique_parameter_identifier<i> </i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { property_association }<sup>+ </sup><b>}</b> ] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160; [ in_modes 
] <b>;</b>&#160;&#160;&#160; </span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>parameter_connection_refinement ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <i>connection</i>_identifier 
: <b>refined to</b> <b>parameter</b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>{</b> 
{ property_association }<sup>+ </sup><b>} </b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; [ in_modes ] <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>unique_parameter_identifier ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- parameter in the thread or subprogram type </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_parameter</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- parameter in another subprogram call </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>subprogram_call</i>_identifier <b>.</b> <i>parameter</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- data or even data port in the thread type of the component 
type</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_port</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- port element in a port group of the component type</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- The port element must be a data or event data port</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_port_group</i>_identifier 
. <i>element_port</i>_identifier</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Naming Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The defining identifier of a defined parameter connection 
declaration must be unique in the local 
namespace of the component implementation with the connection subclause.&#160; For mode-specific 
parameter connections, as indicated by the </span></font><font face="Courier New"><span>in_modes</span></font><font 
face="Helvetica"><span> subclause, a connection name may appear 
more than once.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The connection identifier in a parameter connection refinement 
declaration must refer to a named 
connection declared in an ancestor component implementation.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A source or destination reference in a parameter connection 
declaration must reference a 
parameter of a preceding subprogram call, a parameter declared in the component type of the 
containing subprogram, a data port or event data port declared in the component type of the 
enclosing thread, or a data port or event data port that is an element of a port group in the 
component type of the enclosing thread.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Legality Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Parameter connections must adhere to the following rule 
regarding their source and destination:</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>the source must be an <b>in</b> data or event data port 
or <b>in out</b> data or event data port of the containing 
thread and the destination a subprogram call <b>in </b>or <b>in out </b>parameter, </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>the source must be an <b>in</b> parameter or <b>in out</b> 
parameter of the containing subprogram and the 
destination a subprogram call <b>in </b>or <b>in out </b>parameter, </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>the source must be a subprogram call <b>out</b> or&#160;<b> 
in out </b>parameter and the destination a <b>out </b>or <b>in out 
</b>parameter of the containing subprogram, </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>the source must be a subprogram call <b>out</b> or&#160;<b> 
in out </b>parameter and the destination a subprogram 
call <b>in </b>or <b>in out </b>parameter or an <b>out</b> or <b>in out </b>data or event data<b> </b>port 
of the containing thread.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If the parameter connection declaration represents a 
parameter connection between sibling 
components, then the source must be an <b>out</b> or an <b>in out</b> parameter and the destination 
must be 
an <b>in</b> or an <b>in</b> <b>out</b> parameter.&#160; Furthermore, the source must be a parameter 
of a preceding 
subprogram call in the call sequence, and the destination must be a parameter of a succeeding 
subprogram call in the call sequence.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If a parameter connection is declared to apply to a particular 
mode, then the source and destination 
must be part of that mode.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A parameter cannot be the destination feature reference 
of more than one parameter connection 
declaration unless the source feature reference(s) of each parameter connection declaration is (are) 
contained in a different mode.&#160; In this case, the restriction applies for each mode. </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The data classifier of the source port or parameter must 
be identical to the data type of the 
destination port or parameter.&#160; </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Semantics</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Parameter connections represent sequential flow of data 
through subprogram parameters in a 
sequence of subprogram calls being executed by a thread.&#160; Those calls may be performed locally, 
i.e., within the virtual address space of the containing process, or remotely by a synchronous call 
to a server subprogram in another thread.&#160; In the latter case, the parameter values are passed 
via a 
local subprogram proxy.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Parameter connections are restricted to 1-n connectivity, 
i.e., a data port or parameter can have 
multiple outgoing connections, but only one incoming connection.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If a subprogram has an <b>in out</b> parameter, this 
parameter may be the destination of an incoming 
parameter connection and the source of outgoing parameter connections.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Parameter connections follow the call sequence order 
of subprogram calls.&#160; In other words, 
parameter connection sources must be preceding subprogram calls, and parameter connection 
destinations must be successor subprogram calls.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The optional </span></font><font face="Courier New"><span>in_modes</span></font><font 
face="Helvetica"><span> subclause specifies what modes the parameter connection is part of.&#160; The 
detailed semantics of this subclause are defined in Section 11.1.</span></font><span></span></div></div>




  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!--END PAGE BODY ITEM-->
<!--BEGIN PAGE BODY ITEM-->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <table>
      <tr class="topicHeader">
        <td class="topicImageColumn">

        </td>
        <td class="topicLineColumn">
          <a name="Topic51"></a>
          <span class=outlineNumber>9.1.3 </span><span class=topicLine>Access Connections</span>
          <span class="topicIcons">

          </span>
        </td>
      </tr>
    </table>

<!-- phf:Comand: Expand("BoxPartMap.mmbas") -->
     <div class="topicTextNotes"><div align="left"><font face="Helvetica"><span>Access connections represent access to shared data components 
by concurrently executing 
threads or by subprograms executing within thread. They also denote communication between 
processors, memory, and devices by accessing a shared bus.&#160; These connections are <i>semantic 
access connections</i>.&#160; A semantic access connection is defined by a sequence of one or more 
individual access connection declarations that follow the component containment hierarchy in a 
fully instantiated system from an <i>ultimate source</i> to an <i>ultimate destination</i>.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The ultimate source of a semantic access connection is 
the data component or bus component 
that is being shared.&#160; The ultimate destination of an access connection is the component requiring 
the access without a contained subcomponent also requiring access.&#160; For data access 
connections this can be a thread or a subprogram call. For bus access connections the ultimate 
destination may be a processor, memory, or a device.&#160; The direction of the connection follows from 
the provider of access to the requirer of access.&#160; Figure 14 illustrates a semantic data connection 
from the data component D to thread Q.</span></font><span></span></div>
<div align="center"><img src="NotesImages/Topic51NotesImage3.jpg" align="bottom" width="446" height="171" border="0" alt="graphic" /></div>
<div align="center"><font face="Helvetica"><span><b>Figure 14 Semantic Access Connection</b></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The flow of data of a semantic access connection is determined 
by the fact whether an ultimate 
destination has read access or write access to the shared component.&#160; The actual data flow is 
specified using the properties </span></font><font face="Courier New"><span>Required_Access</span></font><font 
face="Helvetica"><span> or </span></font><font face="Courier New"><span>Provided_Access</span></font><font 
face="Helvetica"><span>.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Syntax</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>access_connection ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; [ <i>access_connection</i>_identifier 
:] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; ( <b>bus</b> | <b>data</b> 
) <b>access</b> unique_access_provider_identifier </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>-&gt;</b> 
unique_access_requirer_identifier<i> </i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { property_association }<sup>+ </sup><b>}</b> ] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160; [ in_modes 
] <b>;</b>&#160;&#160;&#160; </span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>access_connection_refinement ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <i>connection</i>_identifier 
: <b>refined to</b> ( <b>bus</b> | <b>data</b> ) <b>access</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>{</b> 
{ property_association }<sup>+ </sup><b>} </b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; [ in_modes ] <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>unique_access_provider_identifier ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- required access feature in the component type </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_access</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- provided access in a subcomponent </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>data_or_bus_subcomponent</i>_identifier <b>.</b> <i>access</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- data or bus subcomponent being accessed</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>data_or_bus_subcomponent</i>_identifier</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>unique_access_requirer_identifier ::= </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- provided access feature in the component type </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>component_type_access</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |&#160;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
-- required access in a subcomponent </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <i>data_or_bus_subcomponent</i>_identifier <b>.</b> <i>access</i>_identifier</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Naming Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The defining identifier of a access connection declaration 
must be unique in the local namespace of 
the component implementation with the connection subclause.&#160; For mode-specific access 
connections, as indicated by the </span></font><font face="Courier New"><span>in_modes</span></font><font 
face="Helvetica"><span> subclause, a connection name may appear more than 
once.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The connection identifier in an access connection refinement 
declaration must refer to a named 
connection declared in an ancestor component implementation.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A provider reference in an access connection declaration 
must reference a provides access feature 
of a subcomponent, a requires access feature in the component type of the containing component, 
or a data or bus subcomponent.&#160; A requirer reference in an access connection declaration must 
reference a requires access feature of a subcomponent or a provides access feature in the 
component type of the containing component.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Legality Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>All access declarations forming a semantic data access 
connection must be data access 
declarations.&#160; All access declarations forming a semantic bus access connection must be bus 
access declarations.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The ultimate source of a semantic access connection must 
be data or bus subcomponent.&#160; The 
ultimate destination of a semantic data access connection must be a requires data access feature 
of a thread or a subprogram call without a containing subprogram call requiring the same data 
access.&#160; The ultimate destination of a semantic bus access connection must be a requires bus 
access feature of a processor, memory, or device subcomponent.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If a semantic access connection is declared to apply 
to a particular mode, then the ultimate source 
and ultimate destination must be part of that mode.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For access connections between access features, the direction 
declared for the destination feature 
must be compatible with the direction declared for the source feature(s) as defined by the following 
rules:&#160; </span></font><span></span></div>
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  ">
<div align="left"><font face="Helvetica"><span>If the access connection declaration represents an access 
connection between 
access features of sibling components, then the source must be a provides access or 
a data or bus component and the destination must be a requires access.&#160; </span></font><span></span></div>
</li>
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  "><font face="Helvetica"><span>If 
the access connection declaration represents a feature mapping up or down the 
containment hierarchy, then the source and destination must both be a requires 
access, both be a provides access, or the source a data or bus subcomponent and the 
destination a provides access.&#160; </span></font><span></span></li>
</ul>
</ul>
<div align="left"><font face="Helvetica"><span>A requires access cannot be the destination feature reference 
of more than one access connection 
declaration unless the source feature reference(s) of each access connection declaration is (are) 
contained in a different mode.&#160; In this case, the restriction applies for each mode. </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For access connections the data type of the provider 
access must be identical to the data type of 
the requires access.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If more than one access feature in a semantic access 
connection has an access 
</span></font><font face="Courier New"><span>Required_Access</span></font><font face="Helvetica"><span> 
or </span></font><font face="Courier New"><span>Provided_Access</span></font><font face="Helvetica"><span> 
property association, then the resulting property 
values must be compatible.&#160; This means that the provider must provide </span></font><font face="Courier New"><span>read-only</span></font><font 
face="Helvetica"><span> or </span></font><font face="Courier New"><span>read- 
write</span></font><font face="Helvetica"><span> access if the requirer specifies </span></font><font 
face="Courier New"><span>read-only</span></font><font face="Helvetica"><span>.&#160; Similarly, the 
provider must provide </span></font><font face="Courier New"><span>write- 
only</span></font><font face="Helvetica"><span> or </span></font><font face="Courier New"><span>read-write</span></font><font 
face="Helvetica"><span> access if the requirer specifies </span></font><font face="Courier New"><span>write-only</span></font><font 
face="Helvetica"><span>.&#160; The provider must provide 
</span></font><font face="Courier New"><span>read-write</span></font><font face="Helvetica"><span> access 
if the requirer specifies </span></font><font face="Courier New"><span>read-write</span></font><font 
face="Helvetica"><span>.&#160; Finally, the provider must provide </span></font><font face="Courier New"><span>by-
&#160;method</span></font><font face="Helvetica"><span> access if the requirer specifies </span></font><font 
face="Courier New"><span>by-method</span></font><font face="Helvetica"><span> access.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Semantics</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>An access connection represents access to a shared data 
component by concurrently executing 
threads or by subprograms executing within thread. A bus access connection represents 
communication between processors, memory, and devices by accessing a shared bus.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Access connections are restricted to 1-n connectivity, 
i.e., a data or bus component can have 
multiple outgoing access connections, but a <b>requires</b> access feature can only have one incoming 
connection.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The actual data flow is determined by the value of the </span></font><font 
face="Courier New"><span>Required_Access</span></font><font face="Helvetica"><span> or </span></font><font 
face="Courier New"><span>Provided_Access</span></font><font face="Helvetica"><span> 
property.&#160; Read means flow of data from the shared component to the component requiring access, 
and write means flow of data from the component requiring access to the shared component.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The optional </span></font><font face="Courier New"><span>in_modes</span></font><font 
face="Helvetica"><span> subclause specifies what modes the access connection is part of.&#160; The 
detailed semantics of this subclause are defined in Section 11.1.</span></font><span></span></div></div>




  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!--END PAGE BODY ITEM-->


<!-- BEGIN TOP BUTTON -->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topCommand">
        <span class="commands">
      <span class="command">
            <img src="Res/images/top_button.gif" alt="">
          <a href="javascript:scroll(0,0)">
             <span class="label">Top</span>
              </a>
    </span>
       </span>
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!-- END TOP BUTTON -->

</table>

<!-- BEGIN SIDE NAVIGATION WRAPPER-->
    </td>
  </tr>
</table>
<!-- END SIDE NAVIGATION WRAPPER-->

<!-- END PAGE BODY-->


</body>
</html>

