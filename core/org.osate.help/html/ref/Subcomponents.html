<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Subcomponents</title>
   <link href="Res/styles/shared.css" rel="stylesheet" type="text/css">
   <link href="Res/styles/DynamicOutline.css" rel="stylesheet" type="text/css">
</head>
<body id="page" >

<!-- BEGIN PAGE BODY-->


<table id="pageBody">
 <col class="main">
 <col class="right">

<!-- BEGIN BREADCRUMBS-->
<tr id="breadcrumbsAndPageNavigation">
  <td class="breadcrumbs" valign="top">
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="index.html">Home</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="Components,Packages,andAnnexes.html">4. Components, Packages, and Annexes</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS HERE-->
<span class="breadcrumb">
   4.5 Subcomponents
</span>
<!-- END NAVIGATION BREADCRUMBS HERE-->

  </td>
  <td class="pageNavigation" valign="top">
<!-- START PAGE NAVIGATION NEXT IN SEQUENCE IMAGES -->
<span class="commands">
    <span class="command">
        <img src="Res/images/previous_button.gif" alt=""> <a href="ComponentImplementations.html">
        <span class="label">Previous</span></a>
    </span>
&nbsp;&nbsp;
    <span class="command">
        <a href="AnnexSubclausesandAnnexLibraries.html">
        <span class="label">Next</span></a> <img src="Res/images/next_button.gif" alt="">
    </span>
</span>
<!-- END PAGE NAVIGATION NEXT IN SEQUENCE IMAGES  -->

  </td>
  <td class="right" valign="top">
  </td>
</tr>
<!-- END BREADCRUMBS-->

<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topicDivider">
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>

<!--BEGIN PAGE BODY ITEM-->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <table>
      <tr class="topicHeader">
        <td class="topicImageColumn">

        </td>
        <td class="topicLineColumn">
          <a name="Topic25"></a>
          <span class=outlineNumberFirst>4.5 </span><span class=topicLineFirst>Subcomponents</span>
          <span class="topicIcons">

          </span>
        </td>
      </tr>
    </table>

<!-- phf:Comand: Expand("BoxPartMap.mmbas") -->
     <div class="topicTextNotes"><div align="left"><font face="Helvetica"><span>A <i>subcomponent</i> represents a component contained 
within another component, i.e., declared 
within a component implementation.&#160; Subcomponents contained in a component implementation 
may be instantiations of component implementations that contain subcomponents themselves. 
This results in a component containment hierarchy that ultimately describes the whole physical 
system as a system instance.&#160; Figure 4 provides an illustration of a containment hierarchy using 
the graphical AADL notation (see Annex A). In this example, Sys1 represents a system.&#160; The 
implementation of the system contains subcomponents named C3 and C4.&#160; Component C3, a 
subcomponent in Sys1&#146;s implementation, contains subcomponents named C1 and C2. Component 
C4, another subcomponent in Sys1&#146;s implementation, contains a second set of subcomponents 
named C1 and C2.&#160; The two subcomponents named C1 and those named C2 do not violate the 
unique name requirement.&#160; They are unique with respect to the local namespace of their containing 
component&#146;s local namespace.</span></font><span></span></div>
<div align="center"><img src="NotesImages/Topic25NotesImage3.jpg" align="bottom" width="493" height="135" border="0" alt="graphic" /></div>
<div align="center"><font face="Helvetica"><span><b>Figure 4 Component Containment Hierarchy</b></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A subcomponent declaration may resolve required subcomponent 
access declared in the 
component type of the subcomponent. For details on required subcomponent access see Section 
8.4.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A subcomponent can be declared to apply to specific modes 
(rather than all modes) defined within 
the component implementation.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Subcomponents can be refined as part of component implementation 
extensions.&#160; Refinement 
allows classifier references to be completed, and subcomponent property values to be associated. 
The resulting refined subcomponents can be refined themselves.&#160; </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Syntax</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>subcomponent ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <i>defining_subcomponent</i>_identifier 
: </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160; 
component_category [ component_classifier_reference ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { <i>subcomponent</i>_property_association </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
| contained_property_association }<sup>+</sup> <b>} </b>] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160;</b>[ in_modes ]<b> 
;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>subcomponent_refinement ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <i>defining_subcomponent</i>_identifier 
: <b>refined to</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160; 
component_category [ component_classifier_reference ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { <i>subcomponent</i>_property_association </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
| contained_property_association }<sup>+</sup> <b>} </b>]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160;</b>[ in_modes ]<b> 
;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>component_classifier_reference ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
unique_component_type_name [ <b>.</b> 
component_implementation_name ] </span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Helvetica"><span>NOTES:</span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">The above grammar rules 
characterize the common syntax for subcomponent of all component 
categories. The sections defining each of the component categories will specify further restrictions 
on the 
syntax.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Naming Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The defining identifier of a subcomponent declaration 
placed in a component implementation must 
be unique within the local namespace of the component implementation that contains the 
subcomponent.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The defining identifier of a subcomponent refinement 
must exist as a defining subcomponent 
identifier in the local namespace of an ancestor component implementation.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The component type identifier or the component implementation 
name of a component classifier 
reference must exist in the specified (package or anonymous) namespace.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>NOTES: </span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">The </span></font><font 
face="Courier New" size="1"><span style="font-size:9pt">Sample_Manager </span></font><font face="Helvetica" size="1"><span 
style="font-size:9pt">in the example section below illustrates each kind of resolution. </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Legality Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The category of the subcomponent declaration must be 
identical to the category its corresponding 
component classifier reference.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The component type named in the component classifier 
reference of a subcomponent refinement 
must be the component type of the subcomponent being refined if the subcomponent being refined 
has a component type declared.&#160; The component implementation named in the component 
classifier reference of a subcomponent refinement must be the component implementation of the 
subcomponent being refined if the subcomponent being refined has a component type declared.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If the subcomponent declaration contains an </span></font><font 
face="Courier New"><span>in_modes</span></font><font face="Helvetica"><span> statement and any of its 
property 
associations also contains an </span></font><font face="Courier New"><span>in_modes</span></font><font 
face="Helvetica"><span> statement, then the modes named in the property 
association must be a subset of those named in the subcomponent declaration.&#160; For more detail 
on the semantics of </span></font><font face="Courier New"><span>in_modes</span></font><font face="Helvetica"><span> 
statements see Section 11.1.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Semantics</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Subcomponents declared in a component implementation 
are considered to be contained in the 
component implementation.&#160; Contained subcomponents are instantiated when the containing 
component implementation is instantiated.&#160; Thus, the component containment hierarchy describes 
the hierarchical structure of the physical system.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A component implementation can contain <i>incomplete</i> 
subcomponent declarations, i.e., 
subcomponent declarations with no component classifier references or the component classifier 
reference only consists of a component type name for a component type with more than one 
component implementation.&#160; This is particularly useful during early design stages where details 
may not be known or decided.&#160; Such incomplete subcomponent declarations can be refined in 
component implementation extensions.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The optional </span></font><font face="Courier New"><span>in_modes</span></font><font 
face="Helvetica"><span> subclause specifies the modes in which the subcomponent is active.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A subcomponent can have property associations for its 
own properties, or a contained property 
association for the properties of its subcomponents and their subcomponents, as well as those 
subcomponents&#146; features, modes, subprogram call sequences, connections, and flows (see 
Section 10.3). Subcomponent refinements may declare property associations &#150; that override the 
property values declared in the subcomponent being refined.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>NOTES: </span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">The example below illustrates 
the use of component type only as data component classifier. This is 
sufficient for implementation methods to perform analysis and to generate a physical system 
implementation from the AADL specification. In case of process components, the process component 
classifier reference must refer to a process implementation if the implementation method must process 
the complete system instance, e.g., performs scheduling analysis.&#160; In other words, some implementation 
methods and component categories require component classifier references to component 
implementations, while for others the component type reference is sufficient.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Examples</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The example illustrates modeling of source text data 
types as data component types without any 
implementation details.&#160; It illustrates the use of <b>package</b> to group data component type 
declarations.&#160; It illustrates both component classifier references to component types and to 
component implementations.&#160; It illustrates the use of ports as well as required and provided data 
access.&#160; In that context it illustrates the ways of resolving required access.</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>package</b> Sampling</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>public</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data</b> Sample</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>properties</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; Source_Data_Size 
=&gt; 16 B;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>end</b> Sample;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data</b> Sample_Set</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>properties</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; Source_Data_Size 
=&gt; 1 MB;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>end</b> Sample_Set;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data</b> Dynamic_Sample_Set <b>extends</b> 
Sample_Set</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>end</b> Dynamic_Sample_Set;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Sampling;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread</b> Init_Samples </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; OrigSet&#160;: <b>requires 
data access</b> Sampling::Sample_Set;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; SampleSet&#160;: <b>requires 
data access</b> Sampling::Sample_Set;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Init_Samples;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread</b> Collect_Samples </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Input_Sample&#160;: <b>in 
event data port</b>&#160;Sampling::Sample;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; SampleSet&#160;: <b>requires 
data access</b> Sampling::Sample_Set;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Collect_Samples;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread implementation</b> Collect_Samples.Batch_Update </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>refines type</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Input_Sample: <b>refined 
to </b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
in event data port</b> Sampling::Sample {Source_Name =&gt; 
&#8243;InSample&#8243;; };</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Collect_Samples.Batch_Update;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread</b> Distribute_Samples </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; SampleSet&#160;: <b>requires 
data access</b>&#160;Sampling::Sample_Set;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; UpdatedSamples : <b>out 
event data port</b> Sampling::Sample;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Distribute_Samples;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process</b> Sample_Manager </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Input_Sample: <b>in event 
data port</b> Sampling::Sample;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; External_Samples: <b>requires 
data access</b> Sampling::Sample_Set;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Result_Sample: <b>out 
event data port</b> Sampling::Sample;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Sample_Manager;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process implementation</b> Sample_Manager.Slow_Update </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Samples: <b>data</b> Sampling::Sample_Set;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Init_Samples : <b>thread</b> 
Init_Samples;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; -- the required access 
is resolved to a subcomponent declaration</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Collect_Samples: <b>thread</b> 
Collect_Samples.Batch_Update;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Distribute: <b>thread</b> 
Distribute_Samples;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>connections</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data</b> <b>access </b>Samples 
-&gt; Init_Samples.SampleSet;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data access </b>External_Samples 
-&gt; Init_Samples.OrigSet;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data access</b> Samples 
-&gt; Collect_Samples.SampleSet;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>event data port</b> 
Input_Sample -&gt; Collect_Samples.Input_Sample;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>data access</b> Samples 
-&gt; Distribute.SampleSet;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>event data port</b> 
Distribute.UpdatedSamples -&gt; Result_Sample;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Sample_Manager.Slow_Update;</span></font><span></span></div></div>




  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!--END PAGE BODY ITEM-->


<!-- BEGIN TOP BUTTON -->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topCommand">
        <span class="commands">
      <span class="command">
            <img src="Res/images/top_button.gif" alt="">
          <a href="javascript:scroll(0,0)">
             <span class="label">Top</span>
              </a>
    </span>
       </span>
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!-- END TOP BUTTON -->

</table>

<!-- BEGIN SIDE NAVIGATION WRAPPER-->
    </td>
  </tr>
</table>
<!-- END SIDE NAVIGATION WRAPPER-->

<!-- END PAGE BODY-->


</body>
</html>

