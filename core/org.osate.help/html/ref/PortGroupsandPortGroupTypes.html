<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Port Groups and Port Group Types</title>
   <link href="Res/styles/shared.css" rel="stylesheet" type="text/css">
   <link href="Res/styles/DynamicOutline.css" rel="stylesheet" type="text/css">
</head>
<body id="page" >

<!-- BEGIN PAGE BODY-->


<table id="pageBody">
 <col class="main">
 <col class="right">

<!-- BEGIN BREADCRUMBS-->
<tr id="breadcrumbsAndPageNavigation">
  <td class="breadcrumbs" valign="top">
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="index.html">Home</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="FeaturesandSharedAccess.html">8. Features and Shared Access</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS HERE-->
<span class="breadcrumb">
   8.2 Port Groups and Port Group Types
</span>
<!-- END NAVIGATION BREADCRUMBS HERE-->

  </td>
  <td class="pageNavigation" valign="top">
<!-- START PAGE NAVIGATION NEXT IN SEQUENCE IMAGES -->
<span class="commands">
    <span class="command">
        <img src="Res/images/previous_button.gif" alt=""> <a href="Ports.html">
        <span class="label">Previous</span></a>
    </span>
&nbsp;&nbsp;
    <span class="command">
        <a href="SubprogramsAsFeatures.html">
        <span class="label">Next</span></a> <img src="Res/images/next_button.gif" alt="">
    </span>
</span>
<!-- END PAGE NAVIGATION NEXT IN SEQUENCE IMAGES  -->

  </td>
  <td class="right" valign="top">
  </td>
</tr>
<!-- END BREADCRUMBS-->

<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topicDivider">
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>

<!--BEGIN PAGE BODY ITEM-->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <table>
      <tr class="topicHeader">
        <td class="topicImageColumn">

        </td>
        <td class="topicLineColumn">
          <a name="Topic43"></a>
          <span class=outlineNumberFirst>8.2 </span><span class=topicLineFirst>Port Groups and Port Group Types</span>
          <span class="topicIcons">

          </span>
        </td>
      </tr>
    </table>

<!-- phf:Comand: Expand("BoxPartMap.mmbas") -->
     <div class="topicTextNotes"><div align="left"><font face="Helvetica"><span>Port groups represent groups of component ports or port 
groups.&#160; Within a component, the ports of 
a port group can be connected to individually.&#160; Outside a component, port groups can be 
connected as a single unit.&#160; This grouping concept allows the number of connection declarations 
to 
be reduced, especially at higher levels of a system when a number of ports from one 
subcomponent and its contained subcomponents must be connected to ports in another 
subcomponent and its contained subcomponents.&#160; The content of a port group is declared through 
a port group type declaration.&#160; This declaration is then referenced when port groups are declared 
as 
component features.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Syntax</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- Defining the content structure of 
a port group</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>port_group_type ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <b>port group</b> <i>defining</i>_identifier</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; ( <b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160; 
{<b> </b>port_spec | port_group_spec }<sup>*</sup></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; [ <b>inverse 
of</b> unique_port_group_type_reference ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <b>inverse 
of</b> unique_port_group_type_reference </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; )</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>[ <b>properties</b> ( { <i>portgroup</i>_property_association 
}<sup>+</sup> | none_statement ) ] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>{ annex_subclause }<sup>*</sup></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> <i>defining</i>_identifier <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>port_group_type_extension ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; <b>port group</b> <i>defining</i>_identifier <b>extends</b> 
unique_port_group_type_reference</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; ( <b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
{<b> </b>port_spec | port_refinement | </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
port_group_spec | port_group_refinement }<sup>*</sup></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; [ <b>inverse 
of</b> unique_port_group_type_reference ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; |</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <b>inverse 
of</b> unique_port_group_type_reference </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; )</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>[ <b>properties</b> ( { <i>portgroup</i>_property_association 
}<sup>+</sup> | none_statement ) ] </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>{ annex_subclause }<sup>*</sup></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> <i>defining</i>_identifier <b>;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- declaring a port group as component 
feature</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>port_group_spec ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160; <i>defining_port_group</i>_identifier 
: <b>port group </b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160;&#160;&#160;&#160; </b>[ 
unique_port_group_type_reference ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { <i>portgroup</i>_property_association }<sup>+ </sup><b>} </b>]<b> ;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>port_group_refinement ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160; <i>defining_port_group</i>_identifier 
: <b>refined to</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160; <b>port 
group </b>[ unique_port_group_type_reference ]</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
[ <b>{</b> { <i>portgroup</i>_property_association }<sup>+ </sup><b>} </b>]<b> ;</b></span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span>unique_port_group_type_reference ::=</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; [ package_name <b>::</b> 
] <i>port_group_type</i>_identifier </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Naming Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The defining identifier of a port group type must be 
unique within the package namespace of the 
package where the port group type is declared.&#160; If the port group type is declared in the AADL 
specification directly, it must be unique within the anonymous namespace.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Each port group provides a local namespace.&#160; The 
defining port identifiers of port and port group 
declarations in a port group type must be unique within the namespace of the port group type.&#160; 
The 
local namespace of a port group type extension includes the defining identifiers in the local 
namespace of the port group type being extended. This means, the defining identifiers of port or 
port group declarations in a port group type extension must not exist in the local namespace of the 
port group type being extended. The defining identifiers of port or port group refinements in a port 
group type extension must refer to a port or port group in the local namespace of an ancestor port 
group type.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The defining port identifiers of </span></font><font 
face="Courier New"><span>port_spec</span></font><font face="Helvetica"><span> declarations in port group 
refinements must not exist in 
the local namespace of any port group being extended. The defining port identifier of 
</span></font><font face="Courier New"><span>port_refinement</span></font><font face="Helvetica"><span> 
declarations in port group refinements must exist in the local namespace of 
any port group being extended.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The package name of the unique port group type reference 
must refer to a package name in the 
global namespace. The port group type identifier of the unique port group type reference must refer 
to a port group type identifier in the named package namespace, or if the package name is absent, 
in the anonymous namespace.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Legality Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port group type may contain zero or more elements, 
i.e., ports or port groups.&#160; If it contains zero 
elements, then the port group type may be declared to be the inverse of another port group type. 
Otherwise, it is considered to be incompletely specified. </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port group type can be declared to be the inverse of 
another port group type, as indicated by the 
reserved words <b>inverse of</b> and the name of a port group type.&#160; Any port group type named 
in an 
<b>inverse of</b> statement cannot itself contain an <b>inverse of</b> statement.&#160; This means that 
several port 
groups can be declared to be the inverse of one port group.&#160; However, chaining of inverses such 
as 
B inverse of A and C inverse of B is not permitted.&#160; </span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port group type that is an extension of another port 
group type cannot contain an <b>inverse of</b> 
statement. The port group type being extended cannot contain an <b>inverse of </b>statement.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Two port group types are considered to complement each 
other if the following holds: </span></font><span></span></div>
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<ul style="margin-top: 0pt; margin-bottom: 0pt">
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  ">
<div align="left"><font face="Helvetica"><span>The number of ports or port groups contained in the port 
group and its complement 
must be identical.</span></font><span></span></div>
</li>
<li style="margin-left=3mm; margin-right=0mm; padding-left=0mm; font-family= Helvetica;  "><font face="Helvetica"><span>Each 
of the declared ports or port groups in a port group must be a pair-wise 
complement with that in the port group complement, with pairs determined by 
declaration order.&#160; </span></font><span></span></li>
</ul>
</ul>
<div align="left"><font face="Helvetica"><span>If both port group types have zero features, then they 
are considered to complement each other.&#160; In 
the case of port group type extensions, the port and port group declarations in the extension are 
considered to be after the declarations in the port group type being extended.&#160; Ports are pair-wise 
complementary if they have complementary direction ( <b>out</b> / <b>in</b>, <b>in</b> / <b>out</b>, <b>in 
out</b> / <b>in out</b>), and are 
of the same port type. In&#160; the case of event data or data ports, the data component classifier 
reference must be identical.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port group declaration that does not specify a port 
group type reference is incomplete.&#160; Such a 
reference can be added in a port group refinement declaration.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port group declaration may be refined by adding a property 
association. Inclusion of&#160; the port 
group type reference is optional.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>If the </span></font><font face="Courier New"><span>Aggregate_Data_Port</span></font><font 
face="Helvetica"><span> property of a port group has the value true, all ports contained in 
its port group type or the port group type of any contained port group must be data ports and they 
must all have the same port direction.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Standard Properties</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Aggregate_Data_Port: <b>aadlboolean</b> 
=&gt;&#160; <b>false</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- Port properties defined to be <b>inherit</b>, 
thus can be associated with a</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- port group to apply to all contained 
ports.</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Source_Text: <b>inherit</b> <b>list 
of aadlstring</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Allowed_Memory_Binding_Class: </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>inherit</b> <b>list</b> <b>of</b> <b>classifier</b> 
(<b>memory</b>,<b> system</b>,<b> processor</b>)</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>Allowed_Memory_Binding: <b>inherit 
list</b> <b>of</b> <b>reference</b> (<b>memory, system, 
processor</b>)</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Semantics</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A port group declaration represents groups of component 
ports that can be connected to externally 
through a single connection.&#160; Port groups can contain port groups.&#160; This supports nested grouping 
of ports for different levels of the modeled system.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Within a component, the ports of a port group can be 
connected to individually.&#160; The members of 
the port group are declared in a port group type declaration that is referenced by the port group 
declaration. The referenced port group type determines the port group compatibility for a port group 
connection.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The <b>inverse of</b> reserved words of a port group 
type declaration indicate that the port group type 
represents the complement to the referenced port group type.&#160; The legality of port group 
connections is affected by the complementary nature of port groups (see Section 9).</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The AADL supports the concept of <i>aggregate data port </i>as 
an extension of the port group concept. 
A port group property called </span></font><font face="Courier New"><span>Aggregate_Data_Port</span></font><font 
face="Helvetica"><span> identifies the role of the port group as an 
aggregate data port.&#160; This port property applies to all <b>out</b> data ports and <b>in out</b> 
data ports of the 
port group.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The role of an aggregate data port is to make a collection 
of data from multiple <b>out</b> data ports 
available in a time-consistent manner.&#160; Time consistency in this context means that if a set of 
periodic threads is dispatched at the same time to operate on data, then the recipients of their data 
see either all old values or all new values.&#160; </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Processing Requirements and Permissions</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The functionality of an aggregate data port can be realized 
as a thread whose only role is to collect 
the data values from several <b>in</b> data ports and make them available at the same time on their 
respective <b>out</b> data ports. The function may be optimized by mapping the data ports of the 
individual threads into a data area representing the aggregate data port variable.&#160; This aggregate 
is 
then transferred as a single unit. </span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Examples</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>port group</b> GPSbasic_socket </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Wakeup: <b>in event port</b>;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Observation: <b>out data 
port</b> GPSLib::position;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> GPSbasic_socket;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>port group</b> GPSbasic_plug </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; WakeupEvent: <b>out event 
port</b>;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; ObservationData: <b>in 
data port </b>GPSLib::position;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160; </b>-- the features 
must match in same order with opposite direction</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160; inverse of </b>GPSbasic_socket</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> GPSbasic_plug;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>port group</b> MyGPS_plug</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; -- second port group as 
inverse of the original</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; -- no chaining in inverse 
and </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; -- no pairwise inverse 
references are allowed </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160; inverse of </b>GPSbasic_socket</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> MyGPS_plug;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>port group</b> GPSextended_plug <b>extends</b> 
GPSbasic_plug </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Signal: <b>out event port</b>;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Cmd: <b>in data port</b> 
GPSLib::commands;&#160; </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> GPSextended_plug;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process</b> Satellite_position </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; position:&#160;&#160; <b>port 
group</b> GPSBasic_socket;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Satellite_position;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process</b> GPS_System</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>features</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; position: <b>port group</b> 
GPSbasic_plug;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> GPS_System;</span></font><span></span></div>
<div align="left"><br/></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>system implementation</b> Satellite.others</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; SatPos: <b>process</b> 
Satellite_position;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; MyGPS: <b>process</b> 
GPS_System;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>connections</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; <b>port group</b> Satpos.position 
-&gt; MyGPS.position;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b> Satellite.others;</span></font><span></span></div></div>




  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!--END PAGE BODY ITEM-->


<!-- BEGIN TOP BUTTON -->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topCommand">
        <span class="commands">
      <span class="command">
            <img src="Res/images/top_button.gif" alt="">
          <a href="javascript:scroll(0,0)">
             <span class="label">Top</span>
              </a>
    </span>
       </span>
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!-- END TOP BUTTON -->

</table>

<!-- BEGIN SIDE NAVIGATION WRAPPER-->
    </td>
  </tr>
</table>
<!-- END SIDE NAVIGATION WRAPPER-->

<!-- END PAGE BODY-->


</body>
</html>

