<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>System Binding</title>
   <link href="Res/styles/shared.css" rel="stylesheet" type="text/css">
   <link href="Res/styles/DynamicOutline.css" rel="stylesheet" type="text/css">
</head>
<body id="page" >

<!-- BEGIN PAGE BODY-->


<table id="pageBody">
 <col class="main">
 <col class="right">

<!-- BEGIN BREADCRUMBS-->
<tr id="breadcrumbsAndPageNavigation">
  <td class="breadcrumbs" valign="top">
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="index.html">Home</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS ITEM-->
<span class="breadcrumb">
   <a href="OperationalSystem.html">12. Operational System</a> 
   <span class="separator">&gt;</span>
</span>
<!-- END NAVIGATION BREADCRUMBS ITEM-->
<!-- BEGIN NAVIGATION BREADCRUMBS HERE-->
<span class="breadcrumb">
   12.2 System Binding
</span>
<!-- END NAVIGATION BREADCRUMBS HERE-->

  </td>
  <td class="pageNavigation" valign="top">
<!-- START PAGE NAVIGATION NEXT IN SEQUENCE IMAGES -->
<span class="commands">
    <span class="command">
        <img src="Res/images/previous_button.gif" alt=""> <a href="SystemInstances.html">
        <span class="label">Previous</span></a>
    </span>
&nbsp;&nbsp;
    <span class="command">
        <a href="SystemOperation.html">
        <span class="label">Next</span></a> <img src="Res/images/next_button.gif" alt="">
    </span>
</span>
<!-- END PAGE NAVIGATION NEXT IN SEQUENCE IMAGES  -->

  </td>
  <td class="right" valign="top">
  </td>
</tr>
<!-- END BREADCRUMBS-->

<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topicDivider">
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>

<!--BEGIN PAGE BODY ITEM-->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <table>
      <tr class="topicHeader">
        <td class="topicImageColumn">

        </td>
        <td class="topicLineColumn">
          <a name="Topic68"></a>
          <span class=outlineNumberFirst>12.2 </span><span class=topicLineFirst>System Binding</span>
          <span class="topicIcons">

          </span>
        </td>
      </tr>
    </table>

<!-- phf:Comand: Expand("BoxPartMap.mmbas") -->
     <div class="topicTextNotes"><div align="left"><font face="Helvetica"><span>This section defines how binary images produced by compiling 
source units are assigned to and 
loaded onto processor and memory resources, taking into account requirements for component 
sharing and the interconnect topology between processors, memories and devices.&#160; The decisions 
and methods required to combine the components of a system to produce a physical system 
implementation are collectively called bindings.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Naming Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The</span></font><font face="Courier New"><span>Allowed_Processor_Binding</span></font><font 
face="Helvetica"><span>property values evaluate to a processor, or a system that 
contains a processor in its component containment hierarchy.&#160;</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The</span></font><font face="Courier New"><span>Allowed_Memory_Binding</span></font><font 
face="Helvetica"><span>property values evaluate to a memory, a processor that contains 
memory or a system that contains a memory or a processor containing memory in its component 
containment hierarchy.&#160;</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The first identifier of the property value for each element 
of a property value list must exist in the 
local namespace of the containing component implementation or in one of its containing 
component implementations.&#160; The first containing component with a match must be an execution 
platform system, i.e., must be a processor component or a system component containing a 
processor or memory in its containment sub-hierarchy.&#160; Subsequent identifiers must exist in the 
local namespace of the component implementation associated with the component identified by 
the preceding identifier.&#160; The final identifier identifies the system, processor, or memory component 
that represents a legal candidate for processor or memory binding.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Legality Rules</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Every mode-specific configuration of a system instance 
must have a binding of every process 
component to a (set of) memory component(s), and a binding of every thread component to a (set 
of) processor(s).&#160; In the case of dynamic process loading, the actual binding may change at 
runtime.&#160; In the case of tightly coupled multi-processor configurations, the actual thread binding 
may change between members of an actual binding set of processors as these processors service 
a common set of thread ready queues.&#160; Multiple software components may be bound to a single 
memory component. A software component may be bound to multiple memory components.&#160; A 
thread must be bound to a single processor. Multiple threads can be bound to a single processor.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>All software components for a process must be bound to 
memory components that are all 
accessible from every processor to which any thread contained in the process is bound.&#160; That is, 
every thread is able to access every memory component into which the process containing that 
thread is loaded.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A shared data component must be bound to memory accessible 
by all processors to which the 
processes sharing the data component are bound.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>For all threads in a process, all processors to which 
those threads are bound must have identical 
component types and component implementations.&#160; That is, all threads that are contained in a 
given process must all be executing on the same kind of processor, as indicated by the processor 
classifier reference value of the</span></font><span> </span><font face="Courier New"><span>Allowed_Processor_Binding_Class</span></font><font 
face="Helvetica"><span>property associated with 
the process.&#160; Furthermore, all those processors must be able to access the memory to which the 
process is bound.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The complete set of software components making up the 
kernel address space of a processor 
must be bound to memory that is accessible by that processor.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Each thread must be bound to a processor satisfying the</span></font><span> 
</span><font face="Courier New"><span>Allowed_Processor_Binding_Class</span></font><font face="Helvetica"><span>and</span></font><span> </span><font 
face="Courier New"><span>Allowed_Processor_Binding</span></font><font face="Helvetica"><span>property 
values 
of the thread.&#160; The</span></font><font face="Courier New"><span>Allowed_Processor_Binding</span></font><font 
face="Helvetica"><span>property may specify a single processor, thus 
specifying the exact processor binding.&#160; It may also specify a list of processor components or 
system components containing processor components, indicating that the thread is bindable to 
any of those processor components.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>Each process must be bound to a memory satisfying the</span></font><span> 
</span><font face="Courier New"><span>Allowed_Memory_Binding_Class</span></font><font face="Helvetica"><span>and</span></font><span> </span><font 
face="Courier New"><span>Allowed_Memory_Binding</span></font><font face="Helvetica"><span>property values 
of the 
process.&#160; The</span></font><span> </span><font face="Courier New"><span>Allowed_Memory_Binding</span></font><font 
face="Helvetica"><span>property may specify a single memory component, 
thus specifying the exact memory binding. It may also specify a list of memory components or 
system components containing memory components, indicating that the process is bindable to 
any of those memory components.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The memory requirements of the binary images and the 
runtime memory requirements of threads 
and processes bound to a memory component must not exceed that memory&#8217;s capacity. The 
execution time requirements of all threads bound to a processor must not exceed the schedulable 
cycles required to insure that all thread timing requirements are met.&#160; These two constraints may 
be checked statically or dynamically.&#160; Runtime detection of such a memory capacity or timing 
requirements violation results in an error that the application system can choose to recover from.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The memory requirements of ports and data components 
are specified as property values of their 
data types.&#160; Those property associations can have binding-specific values.&#160;</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Semantics</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A complete system instance is instantiated and bound 
by identifying the actual binding of all 
threads to processors, all binary images reflected in processes and other components to memory, 
and all connections to buses if they span multiple processors.&#160; The actual binding can be recorded 
for each component in the containment hierarchy by property associations declared with in the 
system iimplementation.&#160;</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>The actual binding must be determined within specified 
binding constraints. Binding constraints of 
application components to execution platform components are expressed by the allowed binding 
and allowed binding class properties for memory, processor, and bus.&#160; In the case of an allowed 
binding property, the execution platform component is identified by a sequence of &#8216;.&#8217; (dot) 
separated subcomponent names. This sequence starts with the subcomponent contained in the 
component implementation for which the property association is declared. Or the sequence begins 
with the subcomponent contained in the component implementation of the subcomponent or 
system implementation for which the property association is declared. This means that the 
property association representing the binding constraint or the actual binding may have to be 
declared as a component instance property association of a component that represents a common 
root of the components to be bound.</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Processing Requirements and Permissions</i></span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A method of building systems is permitted to require 
bindings of selected kinds to be fixed at 
development time, or to be fixed at the time of physical system construction.&#160; A method of building 
systems is permitted to allow bindings of selected kinds to change dynamically at runtime.&#160; For 
example, a method of building systems may require process to memory binding and loading to be 
fixed during physical system construction, and may require thread to processor bindings to be 
fixed at mode changes.&#160; Other choices are possible and permitted.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>A method of building systems must check and enforce the 
semantics and legality rules defined in 
this standard.&#160; Property associations may impose constraints on allowed bindings.&#160; The access 
semantics impose a number of constraints on allowed bindings for processes and threads to 
execution platform systems, and ultimately to processors and memories.&#160; In general, the semantic 
constraints depend on the particular software and hardware architecture interconnect topologies.&#160; 
In 
particular, for most hardware and operating system configurations all threads contained in a 
process must execute on the same processor.&#160; Such additional restrictions must be taken into 
account by the method of building systems.&#160; A method of building systems is otherwise permitted 
to make any partitioning and binding choices that are consistent with the semantics and legality 
rules of this standard.</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>NOTES:</span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">If multiple processes 
share a component, then the physical memory to which the shared component is 
bound will appear in the virtual address space of all those processes.&#160; This physical memory is 
not 
necessarily addressed using either the same virtual address in different processes or the same physical 
address from different processors.&#160; An access property association may be used to specify different 
addresses used to access the same component from different processors.</span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">The AADL supports binding-specific 
property values.&#160; This allows different property values to be specified 
for a component property whose values are sensitive to binding decisions.&#160;</span></font><span></span></div>
<div align="center"><font face="Helvetica"><span><i>Examples</i></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>system</b>smp</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>smp;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>system implementation</b> smp.s1</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- a multi-processor system</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; p1: <b>processor</b> cpu.u1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; p2: <b>processor</b> cpu.u1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; p3: <b>processor</b> cpu.u1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>smp.s1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process</b>p1</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>p1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>process implementation</b> p1.i1</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; ta: <b>thread</b> t1.i1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; tb: <b>thread</b> t1.i1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>p1.i1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>thread</b>t1</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>t1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>threadimplementation</b> t1.i1</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>t1.i1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>processor</b>cpu</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>cpu;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>processorimplementation</b> cpu.u1</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>cpu.u1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>system</b>S</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>S;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>system implementation</b> S.I</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- a system combining application components</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>-- with execution platform components</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>subcomponents</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; p_a: <b>process</b> p1.i1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; p_b: <b>process</b> p1.i1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; up1: <b>processor</b> 
cpu.u1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; up2: <b>processor</b> 
cpu.u1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; ss1: <b>system</b> smp.s1;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>properties</b></span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; Allowed_Processor_Binding 
=&gt;( <b>reference</b> up1, <b>reference</b> up2 )</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>applies 
to</b> p_a.ta;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160;&#160; Allowed_Processor_Binding 
=&gt;( <b>reference</b> up1, <b>reference</b> up2 ) </span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 
applies to</b> p_a.tb;</span></font><span></span></div>
<br/>
<font face="Courier New" color="#010101"><span>&#160;&#160; -- ta is restricted to a subset of processors 
that tb can be bound 
to;</span></font><span>
<div align="left"></span><font face="Courier New" color="#010101"><span>&#160;&#160; -- since ta and 
tb are part of the same process they must be bound 
to the</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; -- same processor in most 
hardware configurations</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Allowed_Processor_Binding 
=&gt; <b>reference</b> ss1.p3 <b>applies to</b> p_b.ta;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span>&#160;&#160; Allowed_Processor_Binding 
=&gt; <b>reference</b> ss1 <b>applies to</b> p_b.tb;</span></font><span></span></div>
<div align="left"><font face="Courier New" color="#010101"><span><b>end</b>S.I;</span></font><span></span></div>
<div align="left"><font face="Helvetica"><span>NOTES:</span></font><span></span></div>
<div align="left"><font face="Helvetica" size="1"><span style="font-size:9pt">Binding properties are 
declared in the system implementation that contains in its containment hierarchy 
both the components to be bound and the execution platform components that are the target of the 
binding.&#160; Binding properties can also be declared separately for each instance of such a system 
implementation, either as part of the system instantiation&#160; or as part of a subcomponent declaration.</span></font><span></span></div></div>




  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!--END PAGE BODY ITEM-->


<!-- BEGIN TOP BUTTON -->
<tr class="topic">
  <td class="main" valign="top" colspan="2">
    <div class="body">
      <div class="topCommand">
        <span class="commands">
      <span class="command">
            <img src="Res/images/top_button.gif" alt="">
          <a href="javascript:scroll(0,0)">
             <span class="label">Top</span>
              </a>
    </span>
       </span>
      </div>
    </div>
  </td>
  <td class="right" valign="top">
<!--right body column empty-->
  </td>
</tr>
<!-- END TOP BUTTON -->

</table>

<!-- BEGIN SIDE NAVIGATION WRAPPER-->
    </td>
  </tr>
</table>
<!-- END SIDE NAVIGATION WRAPPER-->

<!-- END PAGE BODY-->


</body>
</html>

